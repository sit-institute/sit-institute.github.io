<section class="section is-medium pt-6">
    <div class="container">
        <div class="columns">
            <div class="column is-centered-tablet-portrait">
                <h1 class="title section-title">{{ .Title }}</h1>
                <p class="subtitle is-5 is-muted">{{ .Params.Subtitle }}</p>
                <div class="divider"></div>
            </div>
        </div>
        
        <div class="content">
            {{/* https://shuffle.dev/editor?project=8943cdae4594b02615e07a695dd0c7a921dd8438&tutorial=1 */}}
            <div class="columns is-multiline card-container">
                {{ range .Pages }}
                <div class="column is-4-desktop is-6-tablet" style="min-width: 270px">
                    <div class="card">
                        <div class="card-image is-relative">
                            {{ $imageAsset := index .Params.images 0 }}
                            {{ $image := resources.Get $imageAsset }}
                            <a class="is-block is-relative" href="{{ .RelPermalink }}">
                                {{ with $image.Fill "432x200 center webp q85" }}
                                <img class="image is-cover" width="{{ .Width }}" height="{{ .Height }}"
                                style="object-fit: fill; width: 100%; height: 100%;"
                                src="{{ .RelPermalink }}" alt="{{ .Title }} Cover">
                                {{ end }}
                            </a>
                            <div style="position: absolute; top: 0; right: 0;">
                                {{ range .Params.tags }}
                                <span class="button secondary-btn is-rounded raised is-small mt-2 mr-2 px-2">{{ . }}</span>
                                {{ end }}
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="content">
                                <div>
                                    <a href="{{ .RelPermalink }}">
                                        <h2 class="title is-4">{{ .Title }}</h2>
                                    </a>
                                    <p class="summary">{{ .Params.summary }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="card-footer-item" style="width: 100%;">
                                <div class="is-flex is-justify-content-space-between is-align-items-center" style="width: 100%;">
                                    <div class="is-flex is-align-items-center">
                                        {{ $author := resources.GetRemote .Params.author.avatar }}
                                        {{ $authorName := .Params.author.name }}
                                        {{ with $author.Fill "32x32 center webp q85" }}
                                        <img class="image is-32x32 is-cover" style="border-radius: 50% !important;"
                                            src="{{ .RelPermalink }}" alt="{{ $authorName }}" title="{{ $authorName }}">
                                        {{ end }}
                                    </div>
                                    {{ with .RelPermalink }}<a class="button primary-btn raised is-clear ml-auto" href="{{ . }}">weiterlesen</a>{{ end}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{ end }}
                <style type="text/css">
                    .card-container {
                        display: flex;
                        flex-wrap: wrap;
                    }
                    
                    .card {
                        min-height: 420px; /* Feste Höhe für die Karte */
                        display: flex;
                        flex-direction: column;
                    }
                    
                    .card-content {
                        flex-grow: 1; /* Lässt den Inhalt flexibel wachsen */
                        overflow: hidden; /* Verhindert, dass Inhalt über die Karte hinausgeht */
                    }
                    
                    .summary {
                        display: -webkit-box;
                        -webkit-box-orient: vertical;
                        -webkit-line-clamp: 3; /* Anzahl der angezeigten Zeilen */
                        line-clamp: 3; /* Standard property for compatibility */
                        overflow: hidden;
                        text-overflow: ellipsis;
                        height: 100%; /* Füllt den verfügbaren Raum */
                    }
                </style>
            </div>
        </div>
    </div>
</section>